# Last Stop

## 核心玩法设计

**基础机制**

-   玩家在网格地图上放置/旋转公交路线片段（直线、转弯、T型路口等）
-   乘客从起点站出发，需要通过换乘到达目的地
-   每条新路线会影响整个交通网络的客流分布

**连锁反应元素**

-   **客流连锁**：一条路线开通后，会分流其他路线的乘客，改变整个网络的拥挤程度
-   **换乘连锁**：在交汇点，乘客可以换乘，创造更多可能的路径组合
-   **时间连锁**：公交车有发车间隔，乘客的到达时机会影响后续换乘

## 游戏元素设计

**路线片段类型**

-   直线段、L型转弯、T型分岔、十字路口
-   特殊站点：始发站、终点站、换乘枢纽
-   障碍物：无法通行的建筑、河流等

**乘客系统**

-   不同颜色代表不同目的地的乘客
-   每个乘客有耐心值，等待太久会生气离开
-   乘客会选择最短/最快的路径组合

**挑战设计**

-   **基础关卡**：连接A到B的简单路线
-   **多目标**：同时满足多组起终点需求
-   **资源限制**：有限的路线片段数量
-   **时间压力**：在限定时间内完成路网建设


## 代码结构

-   `src/game`：游戏核心逻辑
    -   `grid.rs`：网格系统
    -   `passenger.rs`：乘客系统


